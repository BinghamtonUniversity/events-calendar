$(document).ready(function(){$('.calendar_toggle').change(function(event){var self=$(this),calendar=self.data('calendar'),show=self.is(':checked');$.cookie(calendar,show,{path:'/'});$('div.event').each(function(){if($(this).data('calendar')===calendar){if(show){$(this).parent('div.date').show();$(this).show()}else{$(this).hide()}}});$('div.date').each(function(){if($(this).find('div.event:visible').length===0){$(this).hide()}else{$(this).show()}})});$('#calendars_show_all').click(function(event){$('.calendar_toggle').each(function(){if(!($(this).is(':checked'))){$(this).prop('checked',true).change()}});event.preventDefault()});$('#calendars_hide_all').click(function(event){$('.calendar_toggle').each(function(){if($(this).is(':checked')){$(this).prop('checked',false).change()}});event.preventDefault()});$('.event').live({mouseenter:function(){$(this).css('background-color','#E5EEEB');$(this).css('cursor','pointer')},mouseleave:function(){$(this).css('background-color','#F5F6F6');$(this).css('cursor','default')},click:function(){window.location=$(this).find('a.event_link').attr('href')}});$('.calendars_show_buttons, #search_submit, .ui-datepicker-current').live({mouseenter:function(){$(this).css('background-color','#E5EEEB');$(this).css('cursor','pointer')},mouseleave:function(){$(this).css('background-color','#F5F6F6');$(this).css('cursor','default')}});$(function(){$('#datepicker').datepicker({showButtonPanel:true,minDate:'0',onSelect:function(){$date=$('#datepicker').datepicker('getDate');$formatted_date=$.datepicker.formatDate('yy-mm-dd',$date);$.get('/events/index.php/calendar/show/'+$formatted_date,function(data){$('#list_view').html(data)})}})});$('button.ui-datepicker-current').live('click',function(){$('.ui-datepicker-today').click()})});
